{"version":3,"file":"main.bundle.js","sources":["../src/components/parts.vue","../src/components/point.vue","../src/main.js"],"sourcesContent":["<template>\n  <div class=\"parts-container\">\n    <div class=\"container-image\">\n      <div class=\"container-image__block\">\n        <input type=\"file\" id=\"spare-part-picture\" name=\"file\" v-model=\"file\" accept=\"image/*\" @change=\"sendFile\" v-if=\"!picture.src\">\n        <img :src=\"picture.src\" @click=\"setPoint\" v-else />\n        <input class=\"picture-remove\" type=\"submit\" value=\"x\" @click.prevent=\"removeFile\" v-if=\"picture.src\">\n      </div>\n      <div\n          v-for=\"element in points\"\n          :key=\"element.id\"\n          class=\"container-point\"\n          :style=\"getStyle(element.x, element.y)\"\n          v-html=\"element.id\"\n      >\n      </div>\n    </div>\n    <div class=\"parts-container__points\" v-if=\"picture.src && points.length > 0\">\n      <table>\n        <thead>\n        <th v-html=\"loc.POLUS_VUE_SPARE_PART_TABLE_HEADER_INDEX\"></th>\n        <th v-html=\"loc.POLUS_VUE_SPARE_PART_TABLE_HEADER_ELEMENT\"></th>\n        <th v-html=\"loc.POLUS_VUE_SPARE_PART_TABLE_HEADER_X\"></th>\n        <th v-html=\"loc.POLUS_VUE_SPARE_PART_TABLE_HEADER_Y\"></th>\n        <th></th>\n        <th></th>\n        </thead>\n        <tbody>\n          <point\n              v-for=\"element in points\"\n              :key=\"'spare-part-' + element.id\"\n              :id=\"element.id\"\n              :iblock-id=\"iblockId\"\n              :coords=\"{x: element.x, y: element.y}\"\n              :allow-value=\"element.value\"\n              :error=\"element.error\"\n              :allow-indexes=\"indexes\"\n              @changeId=\"setPointId\"\n              @remove=\"removePoint\"\n          ></point>\n        </tbody>\n      </table>\n      <input type=\"submit\" @click.prevent=\"sendForm\" />\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport {Vue} from \"ui.vue\";\n\nexport default {\n  name: \"parts\",\n  data() {\n    return {\n      points: this.savedPoints,\n      indexes: [],\n      lastId: 0,\n      file: null,\n      fileUrl: 'polus:spareparts.spartfile.',\n      partsUrl: 'polus:spareparts.iblock.'\n    }\n  },\n  props: {\n    picture: {\n      type: Object,\n      default: function () {\n        return {\n          src: '',\n          id: 0\n        }\n      }\n    },\n    savedPoints: {\n      type: Array,\n      default: []\n    },\n    iblockId: {\n      type: Number,\n      default: 0\n    },\n    elementId: {\n      type: Number,\n      default: 0\n    },\n    rewriteIfRemove: {\n      type: Boolean,\n      default: true\n    }\n  },\n  mounted() {\n    for (let i in this.points) {\n      this.indexes.push(this.points[i].id);\n      if (parseInt(this.lastId) < parseInt(this.points[i].id)) {\n        this.lastId = parseInt(this.points[i].id);\n      }\n    }\n  },\n  computed: {\n    loc() {\n      return Vue.getFilteredPhrases(\"POLUS_VUE_\");\n    }\n  },\n  methods: {\n    /**\n     * Добавляет точку на схему\n     * @param event\n     */\n    setPoint(event) {\n      const x = event.offsetX - 10;\n      const y = event.offsetY - 10;\n\n      /**\n       * если привязать элемент инфоблока к точке, а после\n       * добавить новую точку, то несохраненные точки сбросят свои привязки\n       * к элементам инфоблока. Этот цикл позволяет этого избежать\n       */\n      for (let i in this.points) {\n        if (this.points[i].value.trim() === '') {\n          this.$set(this.points[i], 'value', this.getSparePartInputValue(this.points[i].id));\n        }\n      }\n\n      this.indexes.push(++this.lastId);\n      this.points.push({id: this.lastId, x: x, y: y, value: '', error: false});\n    },\n    /**\n     * Возвращает координаты точки на схеме\n     * @param x\n     * @param y\n     * @returns {string}\n     */\n    getStyle(x, y) {\n      return 'left:' + x + 'px;top:' + y + 'px;';\n    },\n    /**\n     * Возвращает идентификатор связанной запчасти по ее порядковому номеру/идентификатору\n     * @param id\n     * @returns {string|*}\n     */\n    getValue(id) {\n      let element = this.points.find(item => item.id === id);\n\n      if (element && element.hasOwnProperty('value')) {\n        return element.value;\n      }\n\n      return '';\n    },\n    /**\n     * Изменение порядкового номера/идентификатора запчасти\n     * @param value\n     */\n    setPointId(value) {\n      if (!value.hasOwnProperty(\"oldId\")) {\n        return;\n      }\n\n      let index = this.points.findIndex(item => item.id === value.oldId);\n      let indexIssetElement = this.points.findIndex(item => item.id === value.id);\n\n      if (indexIssetElement !== -1 || index === -1) {\n        return;\n      }\n\n      let indexFromSpecialArray = this.indexes.findIndex(item => item === value.oldId);\n\n      if (indexFromSpecialArray !== -1) {\n        this.$set(this.indexes, indexFromSpecialArray, index);\n      }\n\n      delete value.oldId;\n\n      value.x = this.points[index].x;\n      value.y = this.points[index].y;\n      value.value = this.points[index].value;\n\n      this.$set(this.points, index, value);\n\n    },\n    /**\n     * Удаление запчасти\n     * @param id\n     */\n    removePoint(id) {\n      const elementIndex = this.points.findIndex(item => item.id === id);\n      this.points.splice(elementIndex, 1);\n\n      if (this.rewriteIfRemove) {\n        for (let i in this.points) {\n\n          if (this.points[i].value.trim() === '') {\n            this.$set(this.points[i], 'value', this.getSparePartInputValue(this.points[i].id));\n          }\n\n          this.lastId = this.points[i].id = parseInt(i) + 1;\n        }\n      }\n    },\n    /**\n     * Сохранение файла со схемой запчастей\n     */\n    sendFile() {\n      let formSendAll = new FormData();\n      let file = document.getElementById('spare-part-picture').files[0];\n\n      if (!file) {\n        return;\n      }\n\n      formSendAll.append('file', file);\n      formSendAll.append('iblockId', this.iblockId.toString());\n      formSendAll.append('elementId', this.elementId.toString());\n\n      this.$request\n          .setUrl(this.fileUrl + 'saveFile')\n          .setData(formSendAll)\n          .send()\n          .then(response => {\n            const {src, id} = response;\n\n            if (src && id) {\n              this.$set(this.picture, 'src', response.src);\n              this.$set(this.picture, 'id', response.id);\n            }\n\n          });\n    },\n    /**\n     * Удаление схемы запчастей\n     */\n    removeFile() {\n      this.$confirm\n          .setOkButtonName(this.loc.POLUS_VUE_REMOVE_BUTTON_OK)\n          .setTitle(this.loc.POLUS_VUE_REMOVE_SPARE_PARTS_TITLE)\n          .open(\n              this.loc.POLUS_VUE_REMOVE_SPARE_PARTS_CONFIRM,\n              {\n                onSuccess: this.removeFileSuccess,\n                onCancel: this.removeFileCancel\n              }\n          );\n    },\n    /**\n     * Обработчик подтверждения удаления схемы запчастей\n     */\n    removeFileSuccess() {\n      let fileFormData = new FormData();\n\n      fileFormData.append('fileId', this.picture.id)\n\n      this.$request\n          .setUrl(this.fileUrl + 'removeFile')\n          .setData(fileFormData)\n          .send()\n          .then(response => {\n            if (response === true) {\n              this.file = null;\n              this.$set(this.picture, 'src', '');\n              this.$set(this.picture, 'id', 0);\n              this.points.splice(0);\n              this.lastId = 0;\n\n              this.showSuccessMessage(this.loc.POLUS_VUE_FILE_SPARE_PART_REMOVE_SUCCESS);\n            }\n          });\n    },\n    /**\n     * Обработчик отмены удаления схемы запчастей\n     * @returns {boolean}\n     */\n    removeFileCancel() {\n      return false;\n    },\n    /**\n     * Отправляет форму с запчастями на сервер\n     * @returns {boolean}\n     */\n    sendForm() {\n      this.saveSparePartsToArray();\n\n      if (!this.isValid()) {\n        return false;\n      }\n\n      let formSendAll = new FormData();\n\n      let items = {};\n      for (let i in this.points) {\n        items[this.points[i].id] = this.points[i];\n      }\n\n      let parameters = {\n        items: JSON.stringify(items),\n        iblock_id: this.iblockId,\n        element_id: this.elementId,\n        file: this.picture.src\n      };\n\n      formSendAll.append('parameters', JSON.stringify(parameters));\n\n      this.$request\n        .setUrl(this.partsUrl + 'saveSparePart')\n        .setData(formSendAll)\n        .send()\n        .then(response => {\n          if (response === true) {\n            this.showSuccessMessage(this.loc.POLUS_VUE_SAVE_SUCCESS);\n          } else {\n            this.showErrorMessage(this.loc.POLUS_VUE_SAVE_ERROR);\n          }\n        })\n        .catch(error => {\n          console.error(error);\n          this.showErrorMessage(this.loc.POLUS_VUE_SAVE_ERROR);\n        });\n    },\n    /**\n     * Проверяет заполнены ли все обязательные поля\n     * @returns {boolean}\n     */\n    isValid() {\n      for (let i in this.points) {\n        if (this.points[i].value.trim() === '') {\n\n          this.showErrorMessage(this.loc.POLUS_VUE_SEND_VALID_ERROR);\n\n          this.points[i].error = true;\n          return false;\n        }\n\n        this.points[i].error = false;\n      }\n\n      return true;\n    },\n    /**\n     * Сохранение значений запасных частей в массив\n     */\n    saveSparePartsToArray() {\n      for (let i in this.points) {\n        let value = this.getSparePartInputValue(this.points[i].id);\n        this.$set(this.points[i], 'value', value);\n      }\n    },\n    /**\n     * Возвращает идентификатор товара из поля запасных частей\n     * @param pointId\n     * @returns {*}\n     */\n    getSparePartInputValue(pointId) {\n      return document.getElementById('PROP[SPARE_PART][n' + pointId + ']').value;\n    },\n    /**\n     * Выводит сообщение об успешности операции\n     * @param message\n     */\n    showSuccessMessage(message) {\n      this.$notification\n          .setSuccess()\n          .open(message);\n    },\n    /**\n     * Выводит сообщение об ошибке\n     * @param message\n     */\n    showErrorMessage(message) {\n      this.$notification\n          .setError()\n          .open(message);\n    }\n  }\n}\n</script>","<template>\n    <tr class=\"element-point\">\n      <td><input :class=\"{'error': !elementId}\" size=\"3\" type=\"text\" name=\"'index'\" v-model=\"elementId\" @change=\"changeId\"></td>\n      <td><input\n          :class=\"{'error': !value}\"\n          :name=\"'PROP[SPARE_PART][n' + id + ']'\"\n          :id=\"'PROP[SPARE_PART][n' + id + ']'\"\n          size=\"3\"\n          type=\"text\"\n          ref=\"point\"\n          v-model=\"value\"\n          readonly\n      ></td>\n      <td><input size=\"3\" type=\"text\" name=\"'coords-x'\" readonly v-model=\"coords.x\"></td>\n      <td><input size=\"3\" type=\"text\" name=\"'coords-y'\" readonly v-model=\"coords.y\"></td>\n      <td><input type=\"button\" value=\"...\" @click.prevent=\"addElement\"></td>\n      <td><input type=\"button\" value=\"x\" @click.prevent=\"removeElement\"></td>\n    </tr>\n</template>\n\n<script>\nexport default {\n  name: \"point\",\n  data() {\n    return {\n      active: false,\n      value: this.allowValue,\n      elementId: this.id\n    }\n  },\n  props: {\n    id: {\n      type: [Number, String],\n      default: 0\n    },\n    iblockId: {\n      type: Number,\n      default: 0\n    },\n    allowValue: {\n      type: [Number, String],\n      default: ''\n    },\n    allowIndexes: {\n      type: Array,\n      default: []\n    },\n    error: {\n      type: Boolean,\n      default: false\n    },\n    coords: {\n      type: Object,\n      default: function() {\n        return {\n          x: '',\n          y: ''\n        };\n      }\n    }\n  },\n  watch: {\n    allowValue(val) {\n      this.value = val;\n    },\n    id(val) {\n      this.elementId = val;\n    }\n  },\n  methods: {\n    changeId() {\n      if (!this.elementId.match(/^\\d+$/)) {\n        this.elementId = this.id;\n        return;\n      }\n\n      const index = this.allowIndexes.findIndex(item => item === this.elementId);\n\n      if (index === -1) {\n        this.$emit('changeId', {id: this.elementId, oldId: this.id});\n      } else {\n        this.elementId = this.id;\n      }\n\n    },\n    addElement() {\n      jsUtils.OpenWindow('/bitrix/admin/iblock_element_search.php?lang=ru&IBLOCK_ID=' + this.iblockId + '&n=PROP[SPARE_PART]&k=n' + this.id + '&iblockfix=y', 900, 700);\n    },\n    removeElement() {\n      this.$emit('remove', this.id);\n    },\n    getElement() {\n      let element = document.getElementById('PROP[SPARE_PART][n' + this.id + ']');\n      return {id: this.elementId, x: this.coords.x, y: this.coords.y, value: element.value};\n    },\n    setActive(active) {\n      this.active = active;\n    }\n  }\n}\n</script>","import {Vue} from \"ui.vue\";\nimport Parts from \"./components/parts.vue\";\nimport Point from \"./components/point.vue\";\nimport \"polus.vue.plugins.request\";\nimport \"polus.vue.plugins.notification\";\nimport \"polus.vue.plugins.confirm\";\nimport \"./style.scss\";\n\nVue.component(\"Point\", Point);\nVue.component(\"Parts\", Parts);"],"names":["_vm","_c","staticClass","on","setPoint","name","rawName","value","file","expression","attrs","domProps","_v","picture","src","_e","key","element","id","style","getStyle","points","length","_s","loc","POLUS_VUE_SPARE_PART_TABLE_HEADER_INDEX","POLUS_VUE_SPARE_PART_TABLE_HEADER_ELEMENT","POLUS_VUE_SPARE_PART_TABLE_HEADER_X","x","y","error","$event","preventDefault","sendForm","apply","arguments","savedPoints","indexes","partsUrl","default","type","Number","rewriteIfRemove","mounted","i","parseInt","computed","Vue","getFilteredPhrases","methods","event","offsetX","$set","getSparePartInputValue","push","lastId","find","item","setPointId","hasOwnProperty","indexFromSpecialArray","oldId","index","removePoint","elementIndex","findIndex","_this","document","getElementById","formSendAll","$request","setUrl","fileUrl","setData","response","removeFile","onSuccess","removeFileSuccess","onCancel","render","_h","elementId","class","directives","ref","target","composing","component","Point","Parts"],"mappings":"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"}